<html layout:decorate="~{layout_for_main_notice_qna}" xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/html">
<div layout:fragment="content" class="container my-3">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/main/main.css" th:href="@{/css/main/main.css}" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/main/reviewModal.js"></script>
    <script src="/js/main/sigungu.js"></script>

    <div class="container mt-2 mb-2">
        <div class="row">
            <div class="col-md-6" >
                <h4 class="title" style="margin:20px;"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M416 0C400 0 288 32 288 176V288c0 35.3 28.7 64 64 64h32V480c0 17.7 14.3 32 32 32s32-14.3 32-32V352 240 32c0-17.7-14.3-32-32-32zM64 16C64 7.8 57.9 1 49.7 .1S34.2 4.6 32.4 12.5L2.1 148.8C.7 155.1 0 161.5 0 167.9c0 45.9 35.1 83.6 80 87.7V480c0 17.7 14.3 32 32 32s32-14.3 32-32V255.6c44.9-4.1 80-41.8 80-87.7c0-6.4-.7-12.8-2.1-19.1L191.6 12.5c-1.8-8-9.3-13.3-17.4-12.4S160 7.8 160 16V150.2c0 5.4-4.4 9.8-9.8 9.8c-5.1 0-9.3-3.9-9.8-9L127.9 14.6C127.2 6.3 120.3 0 112 0s-15.2 6.3-15.9 14.6L83.7 151c-.5 5.1-4.7 9-9.8 9c-5.4 0-9.8-4.4-9.8-9.8V16zm48.3 152l-.3 0-.3 0 .3-.7 .3 .7z"/></svg> 이번달 Best 5 음식점</h4>
                <div th:if="${#lists.size(eatjjim) != 0}" th:each="eatjjim, idx :${eatjjim}" class="card p-2 mb-2">
                    <div class="p-4">
                        <div class="badge" style="display: inline-block; ">
                            <span th:text="'Best ' + (${idx.index + 1})">Best</span>
                        </div>
                        <h5 class="heading" th:text="${eatjjim.hotplace_name}" th:attr="data-hotplace-no=${eatjjim.hotplace_no}" style="display: inline-block;"></h5>
                        <div class="c-details mt-3">
                            <span th:text="${eatjjim.address}"></span>
                        </div>
                        <div class="mt-3">
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" th:style="'width: ' + ${eatjjim.avg_emo_result} + '%'" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            <div class="mt-3">
                                <span class="text1" th:text="'리뷰 온도 ' + ${eatjjim.avg_emo_result}+'°C'" style="float: left;"></span>
                                <span class="text2" th:text="'이번달 저장수 ' + ${eatjjim.jjim}" style="float: right;"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div th:unless="${#lists.size(eatjjim) != 0}">
                    <div class="card p-2 mb-2" style="text-align: center;">
                        </p>
                        이번달 저장된 음식점이 없습니다.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <h4 class="title" style="margin:20px;"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M88 0C74.7 0 64 10.7 64 24c0 38.9 23.4 59.4 39.1 73.1l1.1 1C120.5 112.3 128 119.9 128 136c0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C119.5 47.7 112 40.1 112 24c0-13.3-10.7-24-24-24zM32 192c-17.7 0-32 14.3-32 32V416c0 53 43 96 96 96H288c53 0 96-43 96-96h16c61.9 0 112-50.1 112-112s-50.1-112-112-112H352 32zm352 64h16c26.5 0 48 21.5 48 48s-21.5 48-48 48H384V256zM224 24c0-13.3-10.7-24-24-24s-24 10.7-24 24c0 38.9 23.4 59.4 39.1 73.1l1.1 1C232.5 112.3 240 119.9 240 136c0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C231.5 47.7 224 40.1 224 24z"/></svg> 이번달 Best 5 카페</h4>
                <div th:if="${#lists.size(cafejjim) != 0}" th:each="cafejjim, idx :${cafejjim}" class="card p-2 mb-2">
                    <div class="p-4">
                        <div class="badge" style="display: inline-block;">
                            <span th:text="'Best ' + (${idx.index + 1})">Best</span>
                        </div>
                        <h5 class="heading" th:text="${cafejjim.hotplace_name}" th:attr="data-hotplace-no=${cafejjim.hotplace_no}" style="display: inline-block;"></h5>
                        <div class="c-details mt-3">
                            <span th:text="${cafejjim.address}"></span>
                        </div>
                        <div class="mt-3">
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" th:style="'width: ' + ${cafejjim.avg_emo_result} + '%'" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            <div class="mt-3">
                                <span class="text1" th:text="'리뷰 온도 ' + ${cafejjim.avg_emo_result}+'°C'" style="float: left;"></span>
                                <span class="text2" th:text="'이번달 저장수 ' + ${cafejjim.jjim}" style="float: right;"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div th:unless="${#lists.size(cafejjim) != 0}">
                    <div class="card p-2 mb-2" style="text-align: center;">
                        </p>
                        이번달 저장된 카페가 없습니다.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- 모달창 -->
    <div class="modal" tabindex="-1" id="myModal">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h5 class="modal-title">Review</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <!-- 리뷰 및 감정 분석 결과가 여기에 추가됨-->
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button id="closeModal" type="button" class="btn btn-danger" data-bs-dismiss ="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <br/>
    <br/>
    <!-- 시도 select -->
    <h4 class="title" style="margin-left:50px;"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H336zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H208zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z"/></svg> 이번달 Best 5</h4>
    <div class="container2 mt-1 mb-1">
        <div class="mx-2">
            <label for="sido" class="form-label">시/도</label>
        </div>
        <div class="mx-2">
            <select name="sido" id="sido" class="form-select">
                <option value="">선택하세요</option>
            </select>
        </div>
        <div class="mx-2">
            <label for="gugun" class="form-label">시/군/구</label>
        </div>
        <div class="mx-2">
            <select name="gugun" id="gugun" class="form-select">
                <option value="">선택하세요</option>
            </select>
        </div>
        <div class="mx-2">
            <label for="category" class="form-label">카테고리</label>
        </div>
        <div class="mx-2">
            <select name="category" id="category" class="form-select">
                <option value="">선택하세요</option>
                <option value="1">음식점</option>
                <option value="2">카페</option>
            </select>
        </div>
        <div class="mx-2">
            <button type="button" class="btn btn-outline-danger" id="sendButton">검색</button>
        </div>
    </div>

    <!--월별 Best 자바스크립트에서 처리-->
    <div id="result" class="card p-2 mb-2" style="padding: 30px;">
        <div class="mx-3" style="padding: 30px;">
            <div class="badge" style="display: inline-block; margin-right: 10px;">
                <span>순위</span>
            </div>
            <h6 class="heading" style="display: inline-block;">가게이름</h6>
            <div class="ms-2 c-details">
                <span class="mb-0"></span>
            </div>
            <div class="mt-3" style="width: 50%;">
                <div class="progress2">
                    <div class="progress2-bar justify-content-center" role="progressbar" th:style="'width: ' + 리뷰온도 + '%'" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <div class="mt-3">
                    <span class="text1" th:text="'리뷰온도 ' + 리뷰온도" style="float: left;"></span>
                    <span class="text2" th:text="'찜수 ' + 찜수" style="float: right;"></span>
                </div>
            </div>
        </div>
    </div>
</div>

</html>